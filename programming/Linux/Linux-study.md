==基于bilibili 韩顺平==

# 一、Linux-start

`wget http://dev.mysql.com/get/mysqL-5.7.26-1.el7.x86_64.rpm- bundle.tar`

## 1、开山篇

**Linux的应用领域**

a、个人桌面应用领域

b、服务器应用领域

c、嵌入式应用领域



### 1.1 Linux入门

**学习：**

**第1阶段:** linux环境下的基本操作命令， 包括文件操作命令(rm mkdir chmod, chowm) 编辑工具使用(vi vim) linux用 户管理(user add userdel usermod)等
**第2阶段：** linux的各种配置 (环境变量配置,网络配置，服务配置)
**第3阶段：** linux下如何 搭建对应语言的开发环境(大数据，JavaEE, Python等)
**第4阶段：**能编写shell 脚本，对Linux服务器进行维护。
**第5阶段：**能进行安全设置，防止攻击，保障服务器正常运行，能对系统调优。
**第6阶段：**深入理解Linux系统 (对内核有研究)，熟练掌握大型网站应用架构组成、并熟悉各个环节的部署和维护方法。



**介绍：**

1) Linux怎么读 [里纽克斯，利尼克斯，里纳克斯]
2) **Linux是-款操作系统，免费，开源，安全， 高效，稳定，处理高并 发非常强悍，现在很多的企业级的项目都部署到Linux/unix 服务器运行。**
3) Linux 创始人-linux林纳斯

<img src="https://ts1.cn.mm.bing.net/th/id/R-C.8999da61f744aa8b21880b76270045ba?rik=wW5KBrRfA5elWQ&riu=http%3a%2f%2fwww.enjoyphysics.cn%2fimages%2finteresting%2f%e9%bb%91%e5%ae%a2%e4%bb%ac%e7%9a%84%e6%95%85%e4%ba%8b%2f%e9%bb%91%e5%ae%a2%e4%bb%ac%e7%9a%84%e6%95%85%e4%ba%8b15_%e9%9b%b7%e5%be%b7%e8%92%99.jpg&ehk=KfoSdb4eFAdQYxTh7SUWxwSSCDa4pgIrQqSKTJ6E9x4%3d&risl=&pid=ImgRaw&r=0" alt="雷德蒙" style="zoom:50%;" />



Linux：

![image-20230716170623672](D:\Users\suyu\Pictures\Typora-picture\image-20230716170623672.png)



**Linux和Unix的关系：**

![image-20230716170956503](D:\Users\suyu\Pictures\Typora-picture\image-20230716170956503.png)









### 1.2 VM 和 Linux安装

学习Linux需要-一个环境，我们需要创建一一个虚拟机，然后在虚拟机上安装-一个
Centos系统来学习。
（1）先安装virtual machine ,vm12

（2）再安装LinuX (CentOS 6.8)
（3）原理示意图

![image-20230717115157837](D:\Users\suyu\Pictures\Typora-picture\image-20230717115157837.png)



#### 1.2.1 虚拟机网络连接模式

**（1）、桥连接模式**

​		桥接连接模式提供了一种**将虚拟机直接连接到物理网络**的方式，使得虚拟机可以与其他设备在同一网络中进行通信，并**具有与物理设备相似的网络功能**。（==因为桥连会会获得与物理网络中其他设备相同的IP地址，故可能导致IP地址冲突==）



**（2）、NAT模式**

​		NAT模式提供了一种虚拟机通过主机系统与外部网络进行通信的方式，并提供了一层隔离，隐藏了虚拟机的实际IP地址。这使得**虚拟机**可以通过**共享主机的网络**连接进行访问互联网，==并与外部网络进行通信==。



**（3）、仅主机模式**

​		供了一种私有的虚拟网络，虚拟机可以通过该网络**与主机系统和其他虚拟机进行通信**，同时==限制了对外部网络的访问==。



**==注：在生产环境下Linux的账号密码一定要复杂==**

例如：（益记性）

天生我材必有用

Tswcbyy



**Centos下：**

安装vmtools的步骤
1、进入centos
2、点击vm菜单的- > install vmware tools
3、centos会出现一个vm的安装包，xx.tar.gz
4、拷贝到/opt
5、使用解压命令tar, 得到一个安装文件
6、进入该vm解压的目录, /opt目录下
7、安装/vmware- install.pl
8、全部使用默认设置即可，就可以安装成功
9、**注意:安装vmtools需要有gcc **





**Ubuntu下：**

**主机和虚拟机之间复制粘贴，共享文件夹**

（1）跨系统复制粘贴：

```c
sudo apt-get autoremove open-vm-tools
sudo apt-get install open-vm-tools
sudo apt-get install open-vm-tools-desktop
```



（2）共享文件夹：

虚拟机设置中—>选项—>共享文件夹

安装：vmware-tools

共享文件夹在：计算机/mnt/hgfs

**当出现找不共享文件夹到的问题：（在mnt下）**

```c
1、sudo vmhgfs-fuse .host:/ /mnt/hgfs
2、sudo umount /mnt/hgfs
3、sudo vmhgfs-fuse .host:/ /mnt/hgfs -o allow_other -o uid=1000 -o gid=1000 -o umask=022
```









### 1.3 Linux的目录结构

#### **基本介绍：**

linux的文件系统是采用级层式的**树状目录结构**，在此结构中的最上层是根目录“/”，然后在此目录下再创建其他的目录。
深刻理解linux树状文件目录是非常重要的，这里我给大家说明一下。
记住一句经典的话：**==在Linux世界里，切皆文件 。==**

![image-20230717233306703](D:\Users\suyu\Pictures\Typora-picture\image-20230717233306703.png)





#### **具体的目录结构:**

➢ **/bin** [重点] (/usr/bin 、/usr/local/bin)
●是Binary的缩写, 这个目录存放着最经==常使用的命令==

➢ /sbin (/usr/sbin 、/usr/local/sbin)
●s就是Super User的意思，这里存放的是系统管理员使用的==系统管理程序==。

➢ **/home** [重点]
●==存放普通用户的主目录==，在Linux中每个用 户都有一个自己的目录，一般
该目录名是以用户的账号命名的。

➢ **/root** [重点]
●该目录为==系统管理员==，也称作超级权限者的用户主目录。

➢ **/lib**
●==系统开机所需要最基本的动态连接共享库==，其作用类似于Windows里的DLL文件。几乎所有的应用程序都需要用到这些共享库。

➢ **/lost+found**
●这个目录一般情况下是空的，当系统非法关机后，这里就存放了一些文件。

➢ **/etc** [重点]
●所有的==系统管理所需要的配置文件==和子目录 my.conf中

➢ **/usr** [重点]
●这是一个非常重要的目录，用户的==很多应用程序和文件都放在这个目录下==，类似与
windows下的programfiles目录。

➢ **/boot** [重点]
●存放的是启动Linux时使用的一些核心文件，包括一些连接文件以及镜像文件

➢ **/proc** [勿动]
●这个目录是一个虚拟的目录，它是系统内存的映射，访问这个目录来获取系统信息。

➢ **/srv**[勿动]
●service缩写，该目录存放一些服务启动之后需要提取的数据。

➢ **/sys**[勿动]
●这是linux2.6内核的-一个很大的变化。该目录下安装了2.6内核中新出现的一个文件系统ysfs 。

➢ **/tmp**
●这个目录是用来存放一些临时文件的。

➢ **/dev**
●类似于windows的设备管理器，把所有的硬件用文件的形式存储。

➢ **/media** [重点]
●linux系统会自动识别一些设备， 例如U盘、光驱等等，当识别后，linux
会把识别的设备挂载到这个目录下。

➢ **/mnt** [重点]
●系统提供该目录是为了让==用户临时挂载别的文件系统的==，我们可以将外部的存储挂
载在/mnt/上，然后进入该目录就可以查看里的内容了。d:/myshare

➢ **/opt**
●这是给主机额外安装软件所摆放的目录。如安装ORACLE数据库就可放到该目录下默认为空。

➢ **/usr/local** [重点]
●这是另一个给主机额外安装软件所安装的目录。-般是通过编译源码方式安装的程序。

➢ **/var** [重点]
●这个目录中 存放着在不断扩充着的东西，习惯将经常被修改的目录放在这个目录下。包括各种日志文件。

➢ **/selinux**
●SELinux是一种安全子系统,它能控制程序只能访问特定文件。

➢ **/dev**
●类似于windows的设备管理器，把所有的硬件用文件的形式存储。

➢ **/media** [重点]
●linux系统会 自动识别一些设备，例如U盘、光驱等等，当识别后，linux会把识别的设备挂载到这个目录下。

➢ **/mnt** [重点]
●系统提供该目录是为了让用户临时挂载别的文件系统的，我们可以将外部的存储挂
载在/mnt/上，然后进入该目录就可以查看里的内容了。d:/myshare









## 1.3虚拟机克隆和快照

### 克隆：

方式1 ,直接拷贝一份安装好的虚拟机文件
方式2 ,使用vmware的克隆操作（注意：克隆时,需要先关闭linux系统）



### 快照：

如果你在使用虚拟机系统的时候(比如linux)，你想回到原先的某一个状态,也就是说你担心可能有些误操作造成系统异常,需要回到原先某个正常运行的状态, vmware也提供了这样的功能，就叫快照管理。

1、安装好系统以后,先做一个快照A
2、进入到系统。创建一个文件夹,再保存一个快照B
3、回到系统刚刚安装好的状态，即快照A
4、试试看,是否还能再次回到快照B





## 2、实操篇

**图形化、命令行**

对于操作系统的使用，有2种使用形式:
●图形化页面使用操作系统
●以命令的形式使用操作系统
不论是Windows还是Linux亦或是MacOS系统，都是支持这两种使用形式。
●图形化:使用操作系统提供的图形化页面，以获得图形化反馈的形式去使用操作系统。
●命令行:使用操作系统提供的各类命令,以获得字符反馈的形式去使用操作系统。







### 2.1 基础管理

#### 2.1.1 程远登录（XShell 和 XFtp）

说明：公司开发时候,具体的应用场景是这样的
1、linux服务器是开发小组共享
2、正式上线的项目是运行在公网
3、因此程序员需要远程登录到Linux进行项目管理或者开发
4、画出简单的网络拓扑示图(帮助理解)
5、远程登录客户端有Xshell6 , Xftp6 ,我们学习使用Xshell和Xftp6，其它的远程工具大同小异



##### Xshell：

（1）、新建会话

<img src="D:\Users\suyu\Pictures\Typora-picture\image-20230718172950022.png" alt="image-20230718172950022" style="zoom:50%;" />



（2）填写连接主机ip

a、输入Linux指令：`ifconfig`

<img src="D:\Users\suyu\Pictures\Typora-picture\image-20230718173727554.png" alt="image-20230718173727554" style="zoom:50%;" />

b、填写ip

<img src="D:\Users\suyu\Pictures\Typora-picture\image-20230718173145131.png" alt="image-20230718173145131" style="zoom:50%;" />

c、检查主机和副机网络是否接通

主机（win）输入：`ping 副机ip`

<img src="D:\Users\suyu\Pictures\Typora-picture\image-20230718174105421.png" alt="image-20230718174105421" style="zoom:50%;" />

如图：表示成功



（3）、启动连接

<img src="D:\Users\suyu\Pictures\Typora-picture\image-20230718173352085.png" alt="image-20230718173352085" style="zoom:50%;" />

一次性接受：下次还要输入用户名和密码

接受并保存：下次不用输用户名和密码

<img src="D:\Users\suyu\Pictures\Typora-picture\image-20230718174324291.png" alt="image-20230718174324291" style="zoom:50%;" />



我选择一次性接受

入想要登录的账户名和密码就可以

<img src="D:\Users\suyu\Pictures\Typora-picture\image-20230718174841521.png" alt="image-20230718174841521" style="zoom:50%;" />

<img src="D:\Users\suyu\Pictures\Typora-picture\image-20230718174919674.png" alt="image-20230718174919674" style="zoom:50%;" />



<img src="D:\Users\suyu\Pictures\Typora-picture\image-20230718174956633.png" alt="image-20230718174956633" style="zoom:50%;" />





##### Xftp：

（1）、新建会话

<img src="D:\Users\suyu\Pictures\Typora-picture\image-20230718175459187.png" alt="image-20230718175459187" style="zoom: 50%;" />

输入名称和主机（同样主机必须为连接电脑ip）

输入用户名、密码

<img src="D:\Users\suyu\Pictures\Typora-picture\image-20230718175651206.png" alt="image-20230718175651206" style="zoom:50%;" />



一般人品不差，是不会出现乱码

如果出现乱码：更改为utf-8的编码

<img src="D:\Users\suyu\Pictures\Typora-picture\image-20230718180104539.png" alt="image-20230718180104539" style="zoom:50%;" />

<img src="D:\Users\suyu\Pictures\Typora-picture\image-20230718180602277.png" alt="image-20230718180602277" style="zoom:50%;" />

<img src="D:\Users\suyu\Pictures\Typora-picture\image-20230718180701469.png" alt="image-20230718180701469" style="zoom:50%;" />









#### 2.1.2 vi和Vim编辑器

##### 介绍

● **正常模式**
以vim打开一个档案就直接进入一般模式了(这是默认的模式)。在这个模式中，你可以使用，「上下左右」按键来移动光标，你可以使用「删除宇符」或「删除整行」来处理档案内容,也可以使用「复制、粘贴」来处理你的文件数据。

● **插入模式**
按下`i, I, o, O, a, A, r, R`等任何一个字母之后才会进入编辑模式，一般来说==按 i 即可==。

● **命令行模式**
在这个模式当中,可以提供你相关指令，完成读取、存盘、替换、离开vim、显示行号等的动作则是在此模式中达成的!



例如：

**在Xshell下写一个cpp文件:**

（1）、通过Xshell连接到Linux主机

（2）、`vim 文件名`

（3）、按下`i`键，开始写入

（4）、写完后，按下`esc`突出，再输入`：wq`（wq中w：写入，q：退出）

（5）、如果想再次编辑就重复上述步骤



![image-20230718190247223](D:\Users\suyu\Pictures\Typora-picture\image-20230718190247223.png)





##### 快捷键

1、**拷贝当前行`yy`** ，拷贝当前行向下的5行`5yy` ,并粘贴(输入`p`)。
2、**删除当前行`dd`** ，删除当前行向下的5行`5dd`

3、在文件中**查找**某个单词 [**命令行下**`/关键宇`，回车查找，输入**n**就是查找下一个；**命令行下**`?关键字`，从下向上查找]

4、设置文件的行号,取消文件的行号。[**命令行下** `:set nu` 和 `:set nonu`]
5、编辑/etc/profile文件，使用快捷键到该文档的最`末行[G]`和最`首行[gg]`
6、在一个文件中输入"hello"然后又撤销这个动作u
7、编辑/etc/profile文件,并将光标移动到20行shift+g

8、更多的看文档







#### 2.1.3 开机、重启、注销

**基本介绍**
`shutdown -h now`	 立该进行关机
`shutdown -h 1`			"hello, 1分钟后会关机了"
`shutdown -r now`	  现在重新启动计算机
`halt`							  关机，作用和上面一样
`reboot`						 现在重新启动计算机
`sync`							 把内存的数据同步到磁盘

●注意细节
1、**不管是重启系统还是关闭系统 ,首先要运行sync命令**，把内存中的数据写到磁盘中
2、目前的 shutdown/reboot/halt等命令均已经在关机前进行了sync，老韩提醒:小心驶得万年船



●基本介绍
1、登录时尽量少用root帐号登录，因为它是系统管理员，最大的权限，避免操作失误。可以利用普通用户登录，登录后再用`su-用户名`命令来切换成系统管理员身份。
2、在提示符下输入`logout`即可注销用户

●使用细节：logout 注销指令在图形运行级别无效，在运行级别3下有效。





#### 2.1.4 用户管理

**创建用户**

Linux系统是一个多用户多任务的操作系统,任何一个要使用系统资源的用户，都必须首先向系统管理员申请一个账号,然后以这个账号的身份进入系统添加用户。

●基本语法
`useradd 用户名`

●应用案例
案例1：添加一个用户main

●细节说明
1、当创建用户成功后,会自动的创建和用户同名的家目录
2、也可以通过useradd -d指定目录新的用户名 ，给新创建的用户指定家目录

3、`pwd`查看当前目录



**指定/修改密码（一定要在home目录下修改）**
**基本语法**：`passwd 用户名`
应用案例：给main指定密码



**删除用户**

`userdel 用户名`  或者  `rm -fr 用户名`
●应用案例
1、删除用户main ,但是要保留家目录，`userdel main`
2、删除用户以及用户主目录，比如main，`userdel -r main`
●细节说明
是否保留家目录的讨论？



**查询用户信息**

`id 用户名`

●应用实例
案例：请查询root信息

细节说明
当用户不存在时，返回无此用户



**切换用户**

在操作Linux中,如果当前用户的权限不够,可以通过su -指令,切换到高权限用户，比如root。
`su - 切换用户名`
应用实例
创建一个用户jack,，指定密码,然后切换到jack

细节说明
1、从权限高的用户切换到权限低的用户，不需要输入密码，反之需要。
2、当需要返回到原来用户时 ，使用`exit/logout`指令



**查看当前用户**

`whoami/who am i`



**用户组**

●介绍
类似于角色，系统可以对有共性（权限）的多个用户进行统一的管理

**新增组**
指令: `groupadd 组名`

**删除组**
指令(基本语法) : `groupdel 组名`

**增加用户时直接加上组**
指令(基本语法) : `useradd -g 用户组 用户名`

==注：如果没有指定用户的组，则生成一个和用户名相同的组并把用户放入其中==

==注：当一个组中有用户时，不能移除组==

**修改用户的组**
指令(基本语法) : `usermod -g 用户组 用户名`



**用户和组相关文件**

● /etc/passwd文件
用户( user )的配置文件，记录用户的各种信息
**每行的含义：用户名:口令:用户标识号:组标识号:注释性描述:主目录:登录Shell**

● /etc/shadow文件
口令的配置文件
**每行的含义：登录名:加密口令:最后一次修改时间:最小时间间隔:最大时间间隔:警 告时间:不活动时间:失效时间:标志**

● /etc/group文件
组(group)的配置文件，记录Linux包含的组的信息
**每行含义：组名:口令:组标识号:组内用户列表**









### 2.2 实用操作

#### 2.2.1 实用指令



**指定运行级别**

**命令**: `init 0,1,2,3,4,5,6`

**运行级别说明:**
**0：关机**
**1：单用户[找回丢失密码]**
**2：多用户状态没有网络服务**
**3：多用户状态有网络服务**
**4：系统未使用保留给用户**
**5：图形界面**
**6：系统重启**
**常用运行级别是3和5 ，也可以指定默认运行级别，后面演示**

应用案例:通过init 来切换不同的运行级别,比如动5-3，然后关机。



**指定运行级别(默认运行级别)**

CentOS7后运行级别说明
在centos7以前, /etc/inittab文件中进行了简化，如下:
`multi-user.target`：analogous to runlevel 3（默认命令界面）
`graphical.target`：analogous to runlevel 5（默认图形界面）

`systemctl get-default`：To view current default target, run（执行命令，查看当前默认运行状态）

`systemctl set-default TARGET.target`：To set a default target, run（设置默认运行状态）



**找回root密码**

1、首先，启动系统，进入开机界面，在界面中按“e”进入编辑界面。如图

<img src="D:\Users\suyu\Pictures\Typora-picture\image-20230719143736046.png" alt="image-20230719143736046" style="zoom:50%;" />

2、找到**linux16**，将光标移动到最后开始写

<img src="D:\Users\suyu\Pictures\Typora-picture\image-20230719144352032.png" alt="image-20230719144352032" style="zoom:50%;" />

3、在行的最后面输入: `init=/bin/sh`。如图（记住空格）

<img src="D:\Users\suyu\Pictures\Typora-picture\image-20230719144645832.png" alt="image-20230719144645832" style="zoom:50%;" />

4、接着输入`ctrl+x`，进入单用户模式

5、接着，在光标闪烁的位置中输入: `mount -o remount,rw /` (注意:各个单词间有空格)，完成后按键盘的回车键(Enter)。 如图

![image-20230719145129485](D:\Users\suyu\Pictures\Typora-picture\image-20230719145129485.png)

6、接着在新的一行输入：`psswd`，完成后按回车，输入密码（注：密码一定要大于等于8位数），之后再次出入密码确认即可，密码修改成功后会显示passwd·······的样式。

![image-20230719145644275](D:\Users\suyu\Pictures\Typora-picture\image-20230719145644275.png)

7、接者，在鼠标闪烁的位置中(最后一行中)输入: `touch /.autorelabel` (注意: touch与/后面有一个空格)，完成后按键盘的回车键( Enter )

8、继续在光标闪烁的位置中，输入: `exec /sbin/init` (注意: exec 与/后面有一个空格)，完成后按键盘的回车键(Enter) ,等待系统自动修改密码(韩顺平提示:这个过程时间可能有点长，耐心等待)，完成后，系统会自动重启，新的密码生效了

●面试题
如何找回root密码
●课堂练习
1、假设root密码忘记了，请问如何找回密码
2、设置运行级别，linux运行后，直接进入到命令行终端(3)



**帮助指令**

**man获得帮助信息**
指令：`man [命令或配置文件]` (功能描述:获得帮助信息)
案例：查看ls命令的帮助信息

**help指令**
指令：`help`(功能描述:获得shell内置命令的帮助信息)
案例：查看cd命令的帮助信息

●百度帮助更直接
如果英语不太好的，也可以直接百度靠谱。

==注：在Linux下，隐藏文件以“.”开头==

==注：选线可以组合使用，比如：`ls -al`，`ls -al /root`==





**文件目录类**

指令：`pwd`（功能描述：显示当前工作目录的绝对路径）
案例：显示当前工作目录的绝对路径

指令：`ls [选项] [目录或是文件]`
常用选项
`-a`：显示当前目录所有的文件和目录，包括隐藏的。
`-l`：以列表的方式显示信息

案例:查看当前目录的所有内容信息



**绝对路径：绝对路径是从文件系统的根目录开始，完整地指定文件或目录的路径。**

**相对路劲：相对路径是相对于当前工作目录来定位文件或目录的路径。**



**cd指令切换到指定目录**

指令：`cd [/参数]` (功能描述 :切换到指定目录)
`cd ~或者cd`：回到自己的家目录
`cd ..`：回到当前目录的上一级目录

案例1 :使用绝对路径切换到root目录，`cd /root`
案例2 :使用相对路径到/root目录，比如在/home/tom，`cd ../../root`
案例3 :表示回到当前目录的上一级目录，`cd..`
案例4 :回到家目录，`cd ~`



**mkdir指令用于创建目录**
指令：`mkdir [选项] 要创建的目录`
常用选项
`-p`：创建多级目录

案例1:创建一个目录/home/dog
案例2:创建多级目录/home/animal/tiger



**rmdir指令删除空目录**
指令：`rmdir [选项] 要删除的空目录`

指令：`rm -rf 要删除的目录`（强制递归，删除整个目录）

案例：删除一个目录 /home/dog

使用细节
rmdir删除的是空目录，如果目录下有内容时无法删除的。
提示：如果需要删除非空目录，需要使用



**touch指令创建空文件**
指令：`touch 文件名称`
案例：创建一个空文件hello.txt



**cp指令拷贝文件到指定目录**
指令：`cp [选项] source dest`
常用选项
`-r` ：递归复制整个文件夹

案例1:将/home/hello.txt拷贝到/home/bbb 目录下
案例2:递归复制整个文件夹,举例

使用细节
强制覆盖不提示的方法: `\cp`



***rm指令移除文件或目录**
指令：`rm [选项] 要删除的文件或目录`
常用选项
`-r`：递归删除整个文件夹
`-f`：强制删除不提示

案例1:将/home/hello.txt删除
案例2:递归删除整个文件夹/home/bbb

使用细节
强制删除不提示的方法：带上`-f`参数即可



***mv指令移动文件与目录或重命名**
指令：`mv oldNameFile newNameFile`	(功能描述：重命名)
指令：`mv /temp/movefile /targetFolder`  (功能描述：移动文件)

指令：`mv opt/bbb home/`	（功能描述：移动整个文件夹）

案例1：将/home/cat.txt文件重新命名为pig.txt
案例2：将/home/pig.txt文件移动到/root目录下



##### 文件内容查看



**cat指令查看文件内容**
指令：`cat [选项] 要查看的文件`
常用选项
`-n`：显示行号

案例1: /ect/profile 文件内容,并显示行号

**注：cat只能浏览文件,而不能修改文件,为了浏览方便，一般会带上管道命令`|more` **

==cat相比vim更加安全==



**more指令（交互指令）**
more指令是一个基于VI编辑器的文本过滤器,它以全屏幕的方式按页显示文本文件的内容。more指令中内置了若干快捷键，详见操作说明

指令：`more 要查看的文件`

| 操作                | 功能说明                             |
| ------------------- | ------------------------------------ |
| **空格键（space）** | **向下翻页**                         |
| **Enter**           | **向下翻一行**                       |
| **q**               | **立刻离开more，不在显示该文件内容** |
| **Ctrl+F**          | **向下滚动以屏**                     |
| **Ctrl+B**          | **返回上一屏**                       |
| **=**               | **输出当前行号**                     |
| **：f**             | **输出文件名和当前行号**             |



***less指令**
less指令用来分屏查看文件内容，它的功能与more指令类似，但是比more指令更加强大，支持各种显示终端。less指令在显示文件内容时，并不是一次将整个文件加载之后才显示，而是根据显示需要加载内容，**对于显示大型文件具有较高的效率**。

指令：`less 要查看的文件`

| 操作                | 功能说明                                           |
| ------------------- | -------------------------------------------------- |
| **空格键（space）** | **向下翻动一页**                                   |
| **pagedown**        | **向下翻一行**                                     |
| **pageup**          | **向上翻动一页**                                   |
| **/字串**           | **向下搜寻[字串」的功能; n:向下查找; N:向上查找;** |
| **？字串**          | **向上搜寻[字串」的功能; n:向上查找; N:向下查找;** |
| **q**               | **离开less这个程序**                               |



**echo指令输出内容到控制台**
指令：`echo [选项] [输出内容]`

常见的选项包括：

​	`-n`：不自动换行。

​	`-e`：启用反斜杠转义字符的解析。

​	`-E`：禁用反斜杠转义字符的解析。

案例：使用echo指令输出环境变量
案例：使用echo指令输出hello,world!



**head指令用于显示文件的开头部分内容**
指令：`head 文件`	(功能描述:查看文件头10行内容)
指令：`head -n x 文件`	(功能描述:查看文件头x行内容, x可以是任意行数)

案例:查看/etc/profile的前面5行代码



***tail指令用于输出文件中尾部的内容**（默认情况下tail指令显示文件的前10行内容）

`tail文件`	(功能描述:查看文件层10行内容)
`tail -n 5 文件`	(功能描述:查看文件尾5行内容，5可以是任意行数)

*`tail -f 文件`	(功能描述:实时追踪该文档的所有更新)

案例1：查看/etc/profile最后5行的代码
案例2：实时监控mydate.txt ,看看到文件有变化时，是否看到，实时的追加日期



***">"指令和" >>"指令**
">"输出重定向和">>"追加

`ls -l >文件`	(功能描述：列表的内容写入文件a.txt中(覆盖写) )
`ls -al >>文件`	(功能描述：列表的内容追加到文件aa.txt的末尾)

`cat 文件1 >文件2`	(功能描述：将文件1的内容覆盖到文件2 )

`echo "内容" >> 文件`	（在文件中追加内容）

案例1:将/home目录下的文件列表写入到/home/info.txt中
案例2:将当前日历信息追加到/home/mycal文件中



指令：`cal`	（显示当前日历）



##### 杂指令



**In指令**
（软链接也称为符号链接，类似于windows里的快捷方式,主要存放了链接其他文件的路径）

指令：`ln -S [原文件或目录] [软链接名]` 	(功能描述:给原文件创建一个软链接)

案例1:在/home目录下创建一个软连接myroot ,连接到/root目录
`ln -s /root /home/myroot`
案例2:删除软连接myroot
`rm /home/myroot`

细节说明
==当我们使用pwd指令查看目录时，仍然看到的是软链接所在目录。==



**history指令**
（查看已经执行过历史命令，也可以执行历史指令）

指令：`history`	 (查看已经执行过历史命令)
指令：`history n`	（显示最近使用的n个指令）
指令：`!n`	（执行历史编号为n的指令）

案例1:显示所有的历史命令
history
案例2:显示最近使用过的10个指令。
history 10
案例3 :执行历史编号为5的指令
!5



**时间日期类**

date指令-显示当前日期
基本语法

指令：`date`			      (功能描述:显示当前时间)

指令：`date+%Y`		    (功能描述:显示当前年份)

指令：`date + %m`		(功能描述:显示当前月份)

指令：`date + %d`		(功能描述:显示当前是哪一天)

指令：`date %Y-%m-%d %H:%M:%S"`	 (功能描述:显示年月日时分秒 )

案例1:显示当前时间信息
案例2:显示当前时间年月日
案例3:显示当前时间年月日时分秒



**date指令设置日期**
基本语法
指令：`date -s “字符串时间”`

案例1:设置系统当前时间，比如设置成2021-11-11 11:22:22



**cal指令**（查看日历指令）
指令：`cal [选项]`	(功能描述:不加选项,显示本月日历)

案例1:显示当前日历
案例2:显示2020年日历



##### **搜索查找类**

**find指令**
（find指令将从指定目录向下递归地遍历其各个子目录，将满足条件的文件或者目录显示在终端。）

指令：`find [搜索范围] [选项]`

选项说明

| 选项                  | 功能                             |
| --------------------- | -------------------------------- |
| -name <查询方式>      | 按照指定的文件名查找模式查找文件 |
| -user <用户名>        | 查找属于指定用户名所有文件       |
| -size <文件大小（n）> | 按照指定的文件大小查找文件。     |

==注：( +n大于-n小于n等于， 单位有k,M,G )==

案例1:按文件名:根据名称查找/home目录下的hello.txt文件
`find /home -name hello.txt`
案例2 :按拥有者:查找/opt目录下，用户名称为nobody的文件
`find /opt -user nobody`
案例3 :查找整个linux系统下大于200M的文件( +n大于-n小于n等于， 单位有k,M,G )
`find / -size +200M`



**locate指令**
（locate指令可以快速定位文件路径。locate指令利用事先建立的系统中所有文件名称及路径的locate数据库实现快速定位给定的文件。Locate指令无需遍历整个文件系统,查询速度较快。为了保证查询结果的准确度,管理员必须定期更新locate时刻

指令：`locate 搜索文件`

指令：`updatedb`	（建立数据库）

特别说明
由于locate指令基于数据库进行查询，所以第-次运行前，必须使用`updatedb`指令创建locate数据库。

案例1:请使用locate指令快速定位hello.txt 文件所在目录



**which指令**（可以查看某个指令在哪个目录下,比如Is指令在哪个目录）
指令：`which [指令]`



**grep指令 和 管道符号 |**
grep过滤查找，管道符，“|” ， 表示将前一个命令的处理结果输出传递给后面的命令处理。

指令：`grep [选项] 查找内容 源文件`
常用选项

| 选项 | 功能               |
| ---- | ------------------ |
| -n   | 显示匹配行及行号。 |
| i    | 忽略字母大小写     |


案例1:请在hello.txt文件中，查找"yes" 所在行,并且显示行号

写法1: `cat /home/hello.txt | grep 'yes'`
写法2: `grep -n "yes" /home/hello.txt`



##### **解压和压缩**

**gzip/gunzip指令**
gzip用于压缩文件，gunzip 用于解压的

指令：`gzip 文件`	(功能描述:压缩文件,只能将文件压缩为*.gz文件)
指令：`gunzip 文件.gz`	 (功能描述:解压缩文件命令)

案例1: gzip压缩，将/home下的hello.txt文件进行压缩
`gzip /home/hello.txt`
案例2: gunzip压缩,将/home下的hello.txt.gz 文件进行解压缩
`gunzip /home/hello.txt.gz`



**zip/unzip指令**
zip用于压缩文件，unzip用于解压的，这个在项目打包发布中很有用的
指令：`zip [选项] XXX.zip 将要压缩的内容`	(功能描述:压缩文件和目录的命令)
指令：`unzip [选项] XXX.zip`	( 功能描述:解压缩文件)

zip常用选项
`-r`：递归压缩,即压缩目录

unzip的常用选项
`-d<目录>`：指定解压后文件的存放目录

==注：压缩时会将文件夹本身和其下所有文件压缩；默认解压到当前目录==

案例1:将/home下的所有文件进行压缩成myhome.zip
案例2:将myhome.zip解压到/opt/tmp目录下

ls

**tar指令**
tar指令是打包指令，最后打包后的文件是.tar.gz的文件。

`tar [选项] XX.tar.gz 打包的内容`	(功能描述:打包目录,压缩后的文件格式.tar.gz)
选项说明

| 选项 | 功能               |
| ---- | ------------------ |
| -c   | 产生 .tar打包文件  |
| -v   | 显示详细信息       |
| -f   | 指定压缩后的文件名 |
| -z   | 打包同时压缩       |
| -x   | 解包 .tar文件      |

==注：通常用 `-zcvf` 或 `-zxvf`==

案例1:压缩多个文件，将/home/pig.txt和/home/cat.txt压缩成pc.tar.gz
案例2:将/home的文件夹压缩成myhome.tar.gz
案例3:将pc.tar.gz解压到当前目录，切换到/opt/
案例4:将myhome.tar.gz解压到/opt/tmp2目录下





#### 2.2.2 组管理和权限管理

在linux中的每个用户必须属于一个组 ,不能独立于组外。在linux中每个文件
有所有者、所在组、其它组的概念。
1.所有者
2.所在组
3.其它组
4.改变用户所在的组



**用户组**

●介绍
类似于角色，系统可以对有共性（权限）的多个用户进行统一的管理

**新增组**
指令: `groupadd 组名`

**删除组**
指令(基本语法) : `groupdel 组名`

**增加用户时直接加上组**
指令(基本语法) : `useradd -g 用户组 用户名`

==注：如果没有指定用户的组，则生成一个和用户名相同的组并把用户放入其中==

==注：当一个组中有用户时，不能移除组==

**修改用户的组**
指令(基本语法) : `usermod -g 用户组 用户名`



**文件/目录所有者**

一般为文件的创建者，谁创建了该文件，就自然的成为该文件的所有者。
查看文件的所有者
指令：`ls -ahl`

修改文件所有者
指令: `chown 用户名 文件名`

要求:使用root创建一个文件apple.txt ， 然后将其所有者修改成tom



**文件/目录所在组**

当某个用户创建了一个文件后，这个文件的所在组就是该用户所在的组。

查看文件的所在组
指令：`ls -ahl`

修改文件所在的组
指令: `chgrp 组名 文件名`



**其他组**

除文件的所有者和所在组的用户外,系统的其它用户都是文件的其它组



**改变用户所在组**

在添加用户时，可以指定将该用户添加到哪个组中,同样的用root的管理权限可以改变某个用户所在的组。

改变用户所在组
1、指令：`usermod -g 新组名 用户名`
2、指令：`usermod -d 目录名 用户名` （改变该用户登陆的初始目录。）

==注：用户需要有进入到新目录的权限==

 

***Linux_rwx权限**

`ls -l` 中显示的内容如下:
`-rwxrw-r-- 1 root root 1213 Feb 2 09:39 abc`

0-9位说明
1、第0位确定文件类型(d，-，I，c，b)
		I  是链接，相当于windows的快捷方式
		d 是目录，相当于windows的文件夹
		c 是字符设备文件，鼠标，键盘
		b 是块设备，比如硬盘
2、第 1-3 位确定所有者（该文件的所有者）拥有该文件的权限。---User
3、第 4-6 位确定所属组（同用户组的）拥有该文件的权限，--Group
4、第 7-9 位确定其他用户拥有该文件的权限 --Other



**rwx作用到文件**

① [r]代表可读(read)：可以读取，查看

② [w]代表可写(write)：可以修改，但是不代表可以删除该文件，删除一个文件的前提条件是对该文件所在的目录有写权限，才能删除该文件（目录就像一个门，只有进了门才能对目录中的文件进行操作）

③ [x]代表可执行(execute)：可以被执行



**rwx作用到目录**

① [r]代表可读(read)：可以读取，ls查看月录内容

② [w]代表可写(write)：可以修改，对目录内创建+删除+重命名目录

③ [x]代表可执行(execute)：可以进入该目录



**修改权限 chmod**

基本说明：
	通过`chmod`指令，可以修改文件或者目录的权限。

第一种方式：+、-、=  变更权限
u：所有者	g：所有组	o：其他人	a：所有人（u、g、 o的总和）

`chmod u=rwx,g=rx,o=x 文件/目录名`

`chmod o+W 文件/目录名`	（获得权限）

`chmod a-x 文件/目录名`	（失去权限）

案例演示
1)给abc文件的所有者读写执行的权限,给所在组读执行权限,给其它组读执行权限。
2)给abc文件的所有者除去执行的权限，增加组写的权限
3)给abc文件的所有用户添加读的权限

●第二种方式:通过数字变更权限
r=4，w=2，x=1
rwx=4+2+1=7
`chmod u=rwx,g=rx,o=x文件目录名`
相当于`chmod 751 文件目录名`



**修改文件所有者 chown**

基本介绍
指令：`chown newowner 文件/目录改变所有者`
指令：`chown newowner:newgroup 文件/目录改变所有者和所在组`
指令：`-R` 如果是目录则使其下所有子文件或目录递归生效

案例演示
请将/home/abc.txt文件的所有者修改成tom
请将/home/kk目录下所有的文件和目录的所有者都修改成tom







#### 2.2.3 定时任务调度



##### **crond任务调度**

crontab进行定时任务的设置
概述：
	任务调度：是指系统在某个时间执行的特定的命令或程序。
	任务调度分类：

​	1.系统工作：有些重要的工作必须周而复始地执行。如病毒扫描等
​	2.个别用户工作：个别用户可能希望执行某些程序，比如对mysq|数据库的备份。

指令：`crontab [执行脚本]` 或者 `./xxx` （如果`xxx`是一个可执行文件，那么使用`./xxx`可以运行该文件；如果`xxx`是一个目录，那么使用`./xxx`可以进入该目录）

`service crond restart [重启任务调度]`

常用选项

| -e     | 编辑crontab定时任务               |
| ------ | --------------------------------- |
| **-l** | **列出crontab任务**               |
| **-r** | **终止当前用户所有的crontab任务** |



案例：每分钟调用一次 `ls -l /etc/ > /tmp/to.txt`
设置任务调度文件: /etc/crontab
设置个人任务调度。执行crontab e命令。
接着输入任务到调度文件
如: `*/1 * * * * ls -l /etc/ > /tmp/to.txt`
意思说每小时的每分钟执行 `ls -l /etc/ > /tmp/to.txt` 命令

参数细节说明

**5个占位符的说明：**

| 项目       | 含义                 | 范围                    |
| ---------- | -------------------- | ----------------------- |
| 第一个 “*” | 一小时当中的第几分钟 | 0~59                    |
| 第二个 “*” | 一天当中的第几小时   | 0~23                    |
| 第三个 “*” | 一个月当中的第几天   | 1~31                    |
| 第四个 “*” | 一年当中的第几个月   | 1~12                    |
| 第五个 “*” | 一周中的星期几       | 0~7（0和7都表示星期天） |



**特殊符号说明：**

| 特殊符号 | 含义                                                         |
| -------- | ------------------------------------------------------------ |
| *****    | 代表任何时间。比如第个 `*` 就代表一小时中每分钟都执行一次的意思。 |
| **‘**    | 代表不连续的时间。比如 `0 8,12,16 * * * 命令` 。 就代表在每天的8点0分，12点0分，16点0分都执行一次命令 |
| **-**    | 代表连续的时间范围。比如 `0 5 * * 1-6 命令` ， 代表在周一到周六的凌晨5点0分执行命令 |
| ***/n**  | 代表每隔多久执行一次。比如 `*/10 * * * * 命令` ，代表每隔10分钟就执行遍命令 |



**特定时间执行任务案例**

| 时间                | 含义                                       |
| ------------------- | ------------------------------------------ |
| `45 22 * * * 命令`  | 在22点45分执行命令                         |
| `0 17 * * 1 命令`   | 每周1的17点0分执行命令                     |
| `0 5 1,15 * * 命令` | 每月1号和15号的凌晨5点0分执行命令          |
| `40 4 * * 1-5 命令` | 每周一到周五的凌晨4点40分执行命令          |
| `*/10 4 * * * 命令` | 每天的凌晨4点，每隔10分钟执行一次命令      |
| `0 0 1,15 * 1 命令` | 每月1号和15号，每周1的0点0分都会执行命令。 |

==注意：星期几和几号最好不要同时出现，因为他们定义的都是天。非常容易让管理员混乱。==





##### **at定时任务**

基本介绍
1、at命令是一次性定时计划任务，at的守护进程atd会以后台模式运行，检查作业队列来运行。
2、默认情况下 ，atd守护进程每60秒检查作业队列，有作业时，会检查作业运行时间，如果时间与当前时间匹配，则运行此作业。
3、at命令是一次性定时计划任务，执行完一个任务后不再执行此任务了
4、在使用at命令的时候 ，定要保证atd进程的启动，可以使用相关指令来查看

at命令格式
指令：`at [选项] [时间]` ；`ps -ef | grep atd`（查看atd进程）
`Ctrl + D` 结束at命令的输入

**at命令选项**

| 选项          | 含义                                                     |
| ------------- | -------------------------------------------------------- |
| -m            | 当指定的任务被完成后，将给用户发送邮件，即使没有标准输出 |
| -I            | atq的别名（查看进程）                                    |
| -d            | atrm的别名（删除进程）                                   |
| -v            | 显示任务将被执行的时间                                   |
| -c            | 打印任务的内容到标准输出                                 |
| -V            | 显示版本信息                                             |
| -q <队列>     | 使用指定的队列                                           |
| -f <文件>     | 从指定文件读入任务而不是从标准输入读入                   |
| -t <时间参数> | 以时间参数的形式提交要运行的任务                         |



**at时间定义**

at指定时间的方法：

1、接受在当天的hh:mm (小时:分钟)式的时间指定。假如该时间已过去，那么就放在第二天执行。例如:04:00

2、使用midnight(深夜)， noon (中午) , teatime (饮茶时间,一般是下午4点)等比较模糊的词语来指定时间。

3、采用12小时计时制，即在时间后面加上AM (上午)或PM(下午)来说明是上午还是下午。例如: 12pm

4、指定命令执行的具体日期，指定格式为month day (月日) 或 mm/dd/yy (月/日/年) 或 dd.mm.yy(日.月.年)，指定的日期必须跟在指定时间的后面。 例如: 04:00 2021 03-1

5、使用相对计时法。指定格式为: now + count time- units , now就是当前时间，time- units是时间单位这里能够是minutes (分钟)、hours (小时)、days(天) 、weeks (星期)。count是时间的数量，几天，几小时。例如:now+5minutes

6、直接使用today (今天)、tomorrow (明天)来指定完成命令的时间。





**应用实例**
案例1：2天后的下午5点执行/bin/ls/ home

`at 5pm + 2 days` and `/bin/ls /home` and `Ctrl+D（两次）`

案例2：atq命令来查看系统中没有执行的工作任务

案例3：明天17点钟，输出时间到指定文件内比如/root/date100.log

`at 5pm tomorrow` and `date > /root/date100.log` and `Ctrl+D（两次）`

案例4：2分钟后，输出时间到指定文件内比如/root/date200.log

`at now + 2 minutes` and `date > /root/date200.log` and `Ctrl+D（两次）`

案例5：删除已经设置的任务，`atrm [编号]`

`atrm n`







#### 2.2.4 磁盘分区、挂载

**原理介绍：**

1. Linux来说无论有几个分区 ，分给哪一目录使用，它归根结底就只有一个根目录，一个独立且唯的文件结构，Linux中每个分区都是用来组成整个文件系统的一部分。
2. Linux采用了一 种叫“载入”的处理方法，它的整个文件系统中包含了一整套的文件和目录，且将一个分区和一个目录联系起来。这时要载入的一个分区将使它的存储空间在一个目录下获得。
3. 示意图











#### 2.2.5 网络配置







### 2.3 进阶操作

#### 2.3.1 进程管理

#### 2.3.2 RPM和YUM











